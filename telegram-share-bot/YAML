# ============================================
# Render Blueprint - Telegram Share Bot
# ============================================
# Ce fichier configure automatiquement le déploiement sur Render
# Documentation: https://render.com/docs/blueprint-spec

services:
  # Service principal - Bot Telegram (Web Service pour health check)
  - type: web
    name: telegram-share-bot
    env: docker
    dockerfilePath: ./Dockerfile
    region: frankfurt  # ou oregon, singapore, ohio
    plan: free  # free ou starter ($7/mois)
    
    # Health check
    healthCheckPath: /health
    
    # Variables d'environnement
    envVars:
      # Tokens Telegram (à configurer dans le dashboard Render)
      - key: BOT_USER_TOKEN
        sync: false
      - key: BOT_ADMIN_TOKEN
        sync: false
      
      # Base de données PostgreSQL (lier manuellement ou utiliser fromDatabase)
      - key: DATABASE_URL
        sync: false
      
      # Cloudinary (optionnel - pour les vidéos)
      - key: CLOUDINARY_CLOUD_NAME
        sync: false
      - key: CLOUDINARY_API_KEY
        sync: false
      - key: CLOUDINARY_API_SECRET
        sync: false
      
      # Admin Telegram ID
      - key: ADMIN_IDS
        sync: false
      
      # Environnement
      - key: ENVIRONMENT
        value: production

# Base de données PostgreSQL (optionnel - peut être créé manuellement)
databases:
  - name: telegram-bot-db
    databaseName: telegram_share_bot
    plan: free  # free ou starter
    region: frankfurt